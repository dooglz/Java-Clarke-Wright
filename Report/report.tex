%%% This LaTeX source document can be used as the basis for your technical
%%% report. Intentionally stripped and simplified
%%% and commands should be adjusted for your particular paper - title, 
%%% author, citations, equations, etc.
% % Citations/references are in report.bib 

\documentclass[conference]{acmsiggraph}

\usepackage{graphicx}
\graphicspath{{./images/}}

\newcommand{\figuremacroW}[4]{
	\begin{figure}[h] %[htbp]
		\centering
		\includegraphics[width=#4\columnwidth]{#1}
		\caption[#2]{\textbf{#2} - #3}
		\label{fig:#1}
	\end{figure}
}

\newcommand{\figuremacroF}[4]{
	\begin{figure*}[t] % [htbp]
		\centering
		\includegraphics[width=#4\textwidth]{#1}
		\caption[#2]{\textbf{#2} - #3}
		\label{fig:#1}
	\end{figure*}
}

\usepackage{afterpage}
\usepackage{xcolor}
\definecolor{lbcolor}{rgb}{0.98,0.98,0.98}
\usepackage{listings}

\lstset{
	escapeinside={/*@}{@*/},
	language=C++,
	%basicstyle=\small\sffamily,
	%basicstyle=\small\sffamily,	
	basicstyle=\fontsize{8.5}{12}\selectfont,
	%basicstyle=\small\ttfamily,
	%basicstyle=\scriptsize, % \footnotesize,
	%basicstyle=\footnotesize,
	%keywordstyle=\color{blue}\bfseries,
	%basicstyle= \listingsfont,
	numbers=left,
	numbersep=2pt,    
	xleftmargin=2pt,
	%numberstyle=\tiny,
	frame=tb,
	%frame=single,
	columns=fullflexible,
	showstringspaces=false,
	tabsize=4,
	keepspaces=true,
	showtabs=false,
	showspaces=false,
	%showstringspaces=true
	backgroundcolor=\color{lbcolor},
	morekeywords={inline,public,class,private,protected,struct},
	captionpos=t,
	lineskip=-0.4em,
	aboveskip=10pt,
	%belowskip=50pt,
	extendedchars=true,
	breaklines=true,
	prebreak = \raisebox{0ex}[0ex][0ex]{\ensuremath{\hookleftarrow}},
	keywordstyle=\color[rgb]{0,0,1},
	commentstyle=\color[rgb]{0.133,0.545,0.133},
	stringstyle=\color[rgb]{0.627,0.126,0.941}
}

\usepackage{lipsum}

\TOGonlineid{45678}
\TOGvolume{0}
\TOGnumber{0}
\TOGarticleDOI{1111111.2222222}
\TOGprojectURL{}
\TOGvideoURL{}
\TOGdataURL{}
\TOGcodeURL{}

\title{Clarke-Wright vehicle routing algorithm\\
	   Implementation Report}

\author{Sam Serrels\\\ 40082367@napier.ac.uk \\
Edinburgh Napier University\\
Algorithms and Data Structures (SET09117)}
\pdfauthor{Sam Serrels}

\keywords{Multi-platform Physics, Optimisation, GPU, Cell, PS3}

\begin{document}

\maketitle

\section{Introduction}


\cite{CW}
\cite{CWj}
\paragraph{Problem summary including any limitations of your solution.}
Large and complex video games tend to use 3rd party physics solutions, this vastly cuts down on the project development man-hours, and the maintenance thereafter. Third party physics solutions have the benefit of being battle tested out in the wild beforehand, so internal reliability is usually a given. A further benefit is that being developed solely for the purpose of being a "a good physics engine" by people who are usually experts in the field, large optimisations are already implemented. The problems arise in the implementation, the coupling of a physics engine and the existing codebase. While they are usually well coded, they are not tailor made to each game. 

\section{Method}
\paragraph{Description of the experiment that you conducted.}
Trying to regain performance from an external physics engine can be a hard task, diving into the source code requires expert knowledge of the inner-workings of the whole system. A common path is to shape the design of the game code to conform better to the demands of the physics engine and hope that the internal optimisations  will be sufficient. Often enough, they are not.

\section{Results}

Tables and charts that show the performance of your solution (how long does it take to run your algorithm).
Demonstration that your solution is valid.
Demonstration of the quality of your solution (what is the cost).

\paragraph{Optimising for Physics Engines}
Trying to regain performance from an external physics engine can be a hard task, diving into the source code requires expert knowledge of the inner-workings of the whole system. A common path is to shape the design of the game code to conform better to the demands of the physics engine and hope that the internal optimisations  will be sufficient. Often enough, they are not.

\figuremacroW
{rand00020cwpsn}
{Parallel Algorithm with 20 Customers}
{}
{0.8}

\figuremacroW
{rand00020cwsn}
{Sequential Algorithm with 20 Customers}
{}
{0.8}

\lipsum

\figuremacroW
{rand00050cwpsn}
{Parallel Algorithm with 50 Customers}
{}
{0.8}

\figuremacroW
{rand00050cwsn}
{Sequential Algorithm with 50 Customers}
{}
{0.8}


\figuremacroF
{chart1}
{Clark Wright implementation results}
{Average time to process each algorithm with an increasing amount of customers}
{1.0}

\figuremacroF
{chart2}
{Clark Wright Percentage Savings}
{The Percentage distance cost saved by each algorithm, based from sending a single truck to each customer}
{1.0}

\figuremacroF
{chart3}
{Clark Wright Routes}
{Number of routes required by each algorithm. X-axis is not a uniform scale.}
{1.0}

\section{Conclusions}

\paragraph{Optimising for Physics Engines}
Summary of your results.
Reflection on your performance on this assessment. 

\section{Appendix}

\bibliographystyle{acmsiggraph}
\bibliography{report}

\afterpage{\clearpage}

\begin{table}[b]
{
\resizebox{1.0\textwidth}{!}{
\begin{minipage}{\textwidth}
\centering
    \begin{tabular}{cccccccc}
   Number of & Dumb solution & Sequential & Parralel & Sequential & Parralel & Sequential Time & Parralel Time \\
Customers & cost & Cost & Cost & Routes & Routes & (Seconds) & (Seconds) \\ \hline\hline \\
    10                   & 3781               & 1955            & 2027          & 2                 & 2               & 0.000909157               & 0.001013164             \\
    20                   & 7931               & 3749            & 3019          & 7                 & 3               & 0.001404089               & 0.001417152             \\
    30                   & 10302              & 5576            & 4717          & 11                & 5               & 0.000896818               & 0.000497884             \\
    40                   & 15775              & 7271            & 4562          & 15                & 5               & 0.000736218               & 0.000602604             \\
    50                   & 20073              & 9746            & 5753          & 21                & 7               & 0.001405751               & 0.00112024              \\
    60                   & 23194              & 11918           & 6183          & 27                & 7               & 0.002299655               & 0.001860301             \\
    70                   & 25925              & 12783           & 7293          & 31                & 8               & 0.003710384               & 0.002752865             \\
    80                   & 28757              & 14238           & 7813          & 35                & 10              & 0.005782794               & 0.004625466             \\
    90                   & 34580              & 17543           & 9202          & 41                & 11              & 0.011383535               & 0.008565139             \\
    100                  & 38704              & 19375           & 9854          & 46                & 13              & 0.012820712               & 0.011544076             \\
    150                  & 58323              & 29787           & 14632         & 71                & 18              & 0.042564373               & 0.035033029             \\
    200                  & 76929              & 38920           & 17809         & 96                & 23              & 0.112553256               & 0.087635926             \\
    250                  & 94218              & 47177           & 19586         & 119               & 28              & 0.236658078               & 0.19809618              \\
    300                  & 116481             & 58912           & 22549         & 145               & 32              & 0.458011761               & 0.3729932               \\
    350                  & 132529             & 67566           & 25634         & 171               & 37              & 0.795852936               & 0.655195371             \\
    400                  & 153609             & 78127           & 31412         & 196               & 46              & 1.242856913               & 1.10756995              \\
    450                  & 174708             & 88128           & 32206         & 220               & 51              & 1.909523115               & 1.674798974             \\
    500                  & 188740             & 96343           & 35368         & 246               & 58              & 2.837620963               & 2.831905538             \\
    550                  & 208973             & 105802          & 37923         & 270               & 63              & 4.026630142               & 4.657466973             \\
    600                  & 228962             & 116788          & 43113         & 296               & 71              & 5.720755786               & 5.927701178             \\
    650                  & 246924             & 126412          & 42089         & 322               & 72              & 7.251799771               & 7.534708523             \\
    700                  & 266675             & 135277          & 44760         & 345               & 79              & 10.09592432               & 10.61137241             \\
    750                  & 283723             & 143957          & 48740         & 370               & 82              & 12.4131069                & 12.93193556             \\
    800                  & 311675             & 158686          & 51313         & 396               & 88              & 16.92304974               & 15.81973182             \\
    850                  & 329742             & 168032          & 55694         & 422               & 97              & 21.56937135               & 18.40950886             \\
    900                  & 347699             & 177212          & 59699         & 446               & 106             & 25.80634481               & 23.36173086             \\
    950                  & 361993             & 184769          & 59529         & 472               & 105             & 30.69257549               & 29.51002702             \\
    1000                 & 390783             & 199258          & 61701         & 497               & 109             & 39.20094816               & 35.98109894             \\\hline
    \end{tabular}
   
    
    \caption[Table caption text]{Results of all tests carried out on both versions of the Clarke Wright algorithm}
    \label{table:name}
    \end{minipage} }
}
\end{table}

\clearpage
\section{Code}
\subsection{ClarkeWright.java}
\lstinputlisting[language=Java]{../src/ClarkeWright.java}

\vfill

\subsection{VRSolution.java}
Lines 20 to 28
\lstinputlisting[language=Java, firstline=20, lastline=27]{../src/VRSolution.java}

\subsection{Experiment.java}
\lstinputlisting[language=Java]{../src/Experiment.java}

\end{document}

